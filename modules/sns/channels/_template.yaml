# _template.yaml - ì±„ë„ ì–´ëŒ‘í„° í…œí”Œë¦¿
# ìƒˆ SNS ì±„ë„ì„ ì¶”ê°€í•  ë•Œ ì´ í…œí”Œë¦¿ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©

channel:
  # === ê¸°ë³¸ ì •ë³´ ===
  id: "{channel_id}"                   # ê³ ìœ  ID (íŒŒì¼ëª…ê³¼ ë™ì¼)
  name: "{Channel Name}"
  description: "{ì±„ë„ ì„¤ëª…}"
  enabled: true

  # === ì¸ì¦ ì„¤ì • ===
  auth:
    method: "browser"                  # browser | api | oauth
    profile_name: "default"            # ë¸Œë¼ìš°ì € í”„ë¡œíŒŒì¼

    # API ì¸ì¦ (method: apiì¸ ê²½ìš°)
    api:
      base_url: ""
      auth_type: "bearer"              # bearer | api_key | oauth2
      token_env: "{CHANNEL}_API_TOKEN"

  # === ì½˜í…ì¸  ì„¤ì • ===
  content:
    max_length: 280                    # ìµœëŒ€ ê¸€ì ìˆ˜
    min_length: 10
    tone_ref: "casual"                 # shared/tone/ ì°¸ì¡°
    language: "ko"

    # í•´ì‹œíƒœê·¸
    hashtags:
      enabled: true
      max_count: 3
      position: "end"                  # end | inline | start

    # ë¯¸ë””ì–´
    media:
      images_allowed: true
      max_images: 4
      videos_allowed: true
      max_video_length_seconds: 60
      supported_formats: ["jpg", "png", "gif", "mp4"]

    # ìŠ¤ë ˆë“œ/ì—°ì† í¬ìŠ¤íŠ¸
    thread:
      supported: true
      max_posts: 10
      connector: "ğŸ§µ"

  # === ì•¡ì…˜ ì •ì˜ ===
  actions:
    post:
      enabled: true
      script: "core/scripts/browser/{channel}/post.ts"
      bounds_ref: "sns.posting"
      pre_checks:
        - "shared/validator/similarity"
        - "shared/validator/forbidden"
      require_review: false

    like:
      enabled: true
      script: "core/scripts/browser/{channel}/like.ts"
      daily_limit: 50
      cooldown_minutes: 1

    follow:
      enabled: true
      script: "core/scripts/browser/{channel}/follow.ts"
      daily_limit: 20
      cooldown_minutes: 5

    follow_back:
      enabled: true
      script: "core/scripts/browser/{channel}/follow.ts"
      filter: "not_bot AND followers > 10"
      delay_minutes: 30

    reply:
      enabled: true
      script: "core/scripts/browser/{channel}/reply.ts"
      use_llm: true
      daily_limit: 30
      tone_ref: "casual"

    repost:
      enabled: true
      script: "core/scripts/browser/{channel}/repost.ts"
      daily_limit: 10
      quality_threshold: 0.7

    comment:
      enabled: true
      script: "core/scripts/browser/{channel}/comment.ts"
      use_llm: true
      daily_limit: 20

    check_notifications:
      enabled: true
      script: "core/scripts/browser/{channel}/notifications.ts"

  # === ë©”íŠ¸ë¦­ ì •ì˜ ===
  metrics:
    tracked:
      - id: "followers"
        query: "SELECT {channel}_followers FROM daily_stats ORDER BY date DESC LIMIT 1"
      - id: "following"
        query: "SELECT {channel}_following FROM daily_stats ORDER BY date DESC LIMIT 1"
      - id: "posts"
        query: "SELECT COUNT(*) FROM posts WHERE platform = '{channel}'"
      - id: "engagement_rate"
        query: "SELECT AVG(engagement_rate) FROM post_analytics WHERE platform = '{channel}' AND posted_at > date('now', '-7 days')"

    # ìˆ˜ì§‘ ì£¼ê¸°
    collection:
      schedule: "0 * * * *"            # ë§¤ì‹œê°„
      method: "browser_scrape"         # browser_scrape | api

  # === íƒ€ê²ŸíŒ… ì„¤ì • ===
  targeting:
    # íŒ”ë¡œìš° íƒ€ê²Ÿ
    follow_targets:
      interests: []
      min_followers: 100
      max_followers: 100000
      verified_preferred: false

    # ì¸ê²Œì´ì§€ë¨¼íŠ¸ íƒ€ê²Ÿ
    engagement_targets:
      topics: []
      exclude_topics: []

  # === í¬ë¡œìŠ¤ í¬ìŠ¤íŒ… ===
  cross_posting:
    source_channels: []                # ì´ ì±„ë„ì—ì„œ ê°€ì ¸ì˜¬ ì±„ë„ë“¤
    target_channels: []                # ì´ ì±„ë„ ì½˜í…ì¸ ë¥¼ ë³´ë‚¼ ì±„ë„ë“¤
    adapt_content: true
    delay_minutes: 30
